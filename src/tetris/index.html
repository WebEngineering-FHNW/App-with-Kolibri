<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3D Tetris</title>
    <link href="tetris.css" rel="stylesheet"/>
</head>
<body>

<script type="module">

    import {TOPIC_REMOTE_OBSERVABLE}  from "../server/S7-manyObs-SSE/remoteObservableConstants.js";
    import {startGame}                from "./gameController.js";
    import {defaultConsoleLogging}    from "../kolibri/logger/loggingSupport.js";
    import {RemoteObservableMapCtor} from "../server/S7-manyObs-SSE/remoteObservableMap.js";
    import {projectGame}             from "./gameProjector.js";

    defaultConsoleLogging("ch.fhnw", LOG_DEBUG);

    const observableMapCtor = RemoteObservableMapCtor(window.location.origin, TOPIC_REMOTE_OBSERVABLE);
    startGame(observableMapCtor, gameController => {
        document.body.prepend(...projectGame(gameController));
    });

</script>
</body>
</html>
