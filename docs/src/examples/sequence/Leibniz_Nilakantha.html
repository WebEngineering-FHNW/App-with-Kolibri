<!doctype html>
<html lang=en>
<head>
    <meta charset="UTF-8">
    <title>Kolibri Tryout</title>

</head>
<body>
<pre>
    Gregory - Leibniz Series

     4       4       4       4       4
    ---  -  ---  +  ---  -  ---  +  ---  ...
     1       3       5       7       9



    Nilakantha Series

          4       4       4       4
    3 +  ---  -  ---  +  ---  -  ---     ...
        2*3*4   4*5*6   6*7*8   8*9*10

</pre>


<script type="module">

    import {ALL, Walk, limit, plus, Seq} from "../../kolibri/sequence/sequence.js";


    const partialSum = numSeq => n =>
        numSeq
            .take(n)
            .reduce$(plus, 0);

    const partialSumSeq = numSeq =>
        Walk(1, ALL)
            .map(partialSum(numSeq));

    const plusMinus = Seq(1, -1).cycle();

    const leib_seq =
        Walk(1, ALL, 2)
            .map( n => 1 / n )
            .zipWith((x, sign) => sign * x)(plusMinus);

    const nila_seq =
        Walk(2, ALL, 2)
            .map( n => 1 / (n * (n + 1) * (n + 2)))
            .zipWith((x, sign) => sign * x)(plusMinus);

    const leibniz      =     4 * limit(1e-3,  partialSumSeq(leib_seq) );
    const nilakantha   = 3 + 4 * limit(1e-8,  partialSumSeq(nila_seq) );
    console.log( leibniz );
    console.log( nilakantha );
    console.log( Math.PI );

</script>


</body>
</html>
